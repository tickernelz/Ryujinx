<window:StyleableWindow
    x:Class="Ryujinx.Ava.Ui.Windows.MainWindow"
    xmlns="https://github.com/avaloniaui"
    xmlns:ui="clr-namespace:FluentAvalonia.UI.Controls;assembly=FluentAvalonia"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:locale="clr-namespace:Ryujinx.Ava.Common.Locale"
    xmlns:controls="clr-namespace:Ryujinx.Ava.Ui.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:viewModels="clr-namespace:Ryujinx.Ava.Ui.ViewModels"
    xmlns:window="clr-namespace:Ryujinx.Ava.Ui.Windows"
    Title="Ryujinx"
    MinWidth="1280"
    MinHeight="700"
    Height="780"
    d:DesignHeight="720"
    d:DesignWidth="1280"
    WindowStartupLocation="CenterScreen"
    mc:Ignorable="d">
    <Window.Styles>
        <Style Selector="TitleBar:fullscreen">
            <Setter Property="Background" Value="#000000" />
        </Style>
    </Window.Styles>
    <Design.DataContext>
        <viewModels:MainWindowViewModel />
    </Design.DataContext>
    <Window.Resources>
        <controls:BitmapArrayValueConverter x:Key="ByteImage" />
        <StreamGeometry x:Key="ArrowClockwiseRegular">M18.6195264,3.31842271 C19.0080059,3.31842271 19.3290603,3.60710385 19.3798716,3.9816481 L19.3868766,4.08577298 L19.3868766,6.97963208 C19.3868766,7.36811161 19.0981955,7.68916605 18.7236513,7.73997735 L18.6195264,7.74698235 L15.7256673,7.74698235 C15.3018714,7.74698235 14.958317,7.40342793 14.958317,6.97963208 C14.958317,6.59115255 15.2469981,6.27009811 15.6215424,6.21928681 L15.7256673,6.21228181 L16.7044011,6.21182461 C13.7917384,3.87107476 9.52212532,4.05209336 6.81933829,6.75488039 C3.92253872,9.65167996 3.92253872,14.34832 6.81933829,17.2451196 C9.71613786,20.1419192 14.4127779,20.1419192 17.3095775,17.2451196 C19.0725398,15.4821573 19.8106555,12.9925923 19.3476248,10.58925 C19.2674502,10.173107 19.5398064,9.77076216 19.9559494,9.69058758 C20.3720923,9.610413 20.7744372,9.88276918 20.8546118,10.2989121 C21.4129973,13.1971899 20.5217103,16.2033812 18.3947747,18.3303168 C14.8986373,21.8264542 9.23027854,21.8264542 5.73414113,18.3303168 C2.23800371,14.8341794 2.23800371,9.16582064 5.73414113,5.66968323 C9.05475132,2.34907304 14.3349409,2.18235834 17.8523166,5.16953912 L17.8521761,4.08577298 C17.8521761,3.66197713 18.1957305,3.31842271 18.6195264,3.31842271 Z</StreamGeometry>
        <StreamGeometry x:Key="SearchRegular">M11.5,2.75 C16.3324916,2.75 20.25,6.66750844 20.25,11.5 C20.25,13.6461673 19.4773285,15.6118676 18.1949905,17.1340957 L25.0303301,23.9696699 C25.3232233,24.2625631 25.3232233,24.7374369 25.0303301,25.0303301 C24.7640635,25.2965966 24.3473998,25.3208027 24.0537883,25.1029482 L23.9696699,25.0303301 L17.1340957,18.1949905 C15.6118676,19.4773285 13.6461673,20.25 11.5,20.25 C6.66750844,20.25 2.75,16.3324916 2.75,11.5 C2.75,6.66750844 6.66750844,2.75 11.5,2.75 Z M11.5,4.25 C7.49593556,4.25 4.25,7.49593556 4.25,11.5 C4.25,15.5040644 7.49593556,18.75 11.5,18.75 C15.5040644,18.75 18.75,15.5040644 18.75,11.5 C18.75,7.49593556 15.5040644,4.25 11.5,4.25 Z</StreamGeometry>
    </Window.Resources>
  <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
    <Grid.RowDefinitions>
      <RowDefinition/>
    </Grid.RowDefinitions>
    <ui:ContentDialog Name="ContentDialog"
                      IsPrimaryButtonEnabled="True"
                      IsSecondaryButtonEnabled="True"
                      IsVisible="False"/>
    <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*" />
      </Grid.ColumnDefinitions>
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto" />
        <RowDefinition Height="*" />
        <RowDefinition Height="Auto" />
      </Grid.RowDefinitions>
      <StackPanel
          Grid.Row="0"
          Margin="0"
          HorizontalAlignment="Stretch"
          VerticalAlignment="Stretch"
          Orientation="Vertical">
        <DockPanel HorizontalAlignment="Stretch">
          <Menu
              Name="Menu"
              Margin="0"
              Height="30"
              HorizontalAlignment="Left"
              IsVisible="{Binding ShowMenuAndStatusBar}">
            <Menu.ItemsPanel>
              <ItemsPanelTemplate>
                <DockPanel HorizontalAlignment="Stretch" Margin="0" />
              </ItemsPanelTemplate>
            </Menu.ItemsPanel>
            <MenuItem
                VerticalAlignment="Center"
                Header="{locale:Locale MenuBarFile}">
              <MenuItem IsEnabled="{Binding EnableNonGameRunningControls}" Command="{Binding OpenFile}" Header="{locale:Locale MenuBarFileOpenFromFile}" />
              <MenuItem IsEnabled="{Binding EnableNonGameRunningControls}"  Command="{Binding OpenFolder}" Header="{locale:Locale MenuBarFileOpenUnpacked}" />
              <MenuItem Header="{locale:Locale MenuBarFileOpenApplet}" IsEnabled="{Binding IsAppletMenuActive}">
                <MenuItem Command="{Binding OpenMiiApplet}" Header="Mii Edit Applet"
                          ToolTip.Tip="{locale:Locale MenuBarFileOpenAppletOpenMiiAppletToolTip}"/>
              </MenuItem>
              <Separator />
              <MenuItem Command="{Binding OpenRyujinxFolder}" Header="{locale:Locale MenuBarFileOpenEmuFolder}" />
              <MenuItem Command="{Binding OpenLogsFolder}" Header="{locale:Locale MenuBarFileOpenLogsFolder}" />
              <Separator />
              <MenuItem Command="{Binding CloseWindow}" Header="{locale:Locale MenuBarFileExit}" />
            </MenuItem>
            <MenuItem
                VerticalAlignment="Center"
                Header="{locale:Locale MenuBarOptions}">
              <MenuItem Command="{Binding ToggleFullscreen}" Header="{locale:Locale MenuBarOptionsToggleFullscreen}" />
              <MenuItem Header="{locale:Locale MenuBarOptionsStartGamesInFullscreen}">
                <MenuItem.Icon>
                  <CheckBox Margin="0" IsChecked="{Binding StartGamesInFullscreen, Mode=TwoWay}" />
                </MenuItem.Icon>
              </MenuItem>
              <Separator />
              <MenuItem Header="Change Language">
                <MenuItem Command="{Binding ChangeLanguage}" CommandParameter="en_US" Header="American English" />
                <MenuItem Command="{Binding ChangeLanguage}" CommandParameter="fr_FR" Header="French" />
                <MenuItem Command="{Binding ChangeLanguage}" CommandParameter="pt_BR" Header="Brazilian Portuguese" />
              </MenuItem>
              <MenuItem Header="Enable GUI Columns">
                <MenuItem Header="Enable Favorites Column">
                  <MenuItem.Icon>
                    <CheckBox Margin="0" IsChecked="{Binding ShowFavoriteColumn, Mode=TwoWay}" />
                  </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="Enable Icon Column">
                  <MenuItem.Icon>
                    <CheckBox Margin="0" IsChecked="{Binding ShowIconColumn, Mode=TwoWay}" />
                  </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="Enable Title/ID Column">
                  <MenuItem.Icon>
                    <CheckBox Margin="0" IsChecked="{Binding ShowTitleColumn, Mode=TwoWay}" />
                  </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="Enable Developer Column">
                  <MenuItem.Icon>
                    <CheckBox Margin="0" IsChecked="{Binding ShowDeveloperColumn, Mode=TwoWay}" />
                  </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="Enable Version Column">
                  <MenuItem.Icon>
                    <CheckBox Margin="0" IsChecked="{Binding ShowVersionColumn, Mode=TwoWay}" />
                  </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="Enable Time Played Column">
                  <MenuItem.Icon>
                    <CheckBox Margin="0" IsChecked="{Binding ShowTimePlayedColumn, Mode=TwoWay}" />
                  </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="Enable Last Played Column">
                  <MenuItem.Icon>
                    <CheckBox Margin="0" IsChecked="{Binding ShowLastPlayedColumn, Mode=TwoWay}" />
                  </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="Enable File Extension Column">
                  <MenuItem.Icon>
                    <CheckBox Margin="0" IsChecked="{Binding ShowFileExtColumn, Mode=TwoWay}" />
                  </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="Enable File Size Column">
                  <MenuItem.Icon>
                    <CheckBox Margin="0" IsChecked="{Binding ShowFileSizeColumn, Mode=TwoWay}" />
                  </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="Enable Path Column">
                  <MenuItem.Icon>
                    <CheckBox Margin="0" IsChecked="{Binding ShowFilePathColumn, Mode=TwoWay}" />
                  </MenuItem.Icon>
                </MenuItem>
              </MenuItem>
              <Separator />
              <MenuItem Command="{Binding OpenSettings}" Header="{locale:Locale MenuBarOptionsSettings}" />
              <MenuItem Command="{Binding ManageProfiles}" Header="{locale:Locale MenuBarOptionsManageUserProfiles}" />
            </MenuItem>
            <MenuItem
                VerticalAlignment="Center"
                Header="{locale:Locale MenuBarActions}"
                IsEnabled="{Binding IsGameRunning}">
              <MenuItem
                  Click="StopEmulation_Click"
                  Header="{locale:Locale MenuBarOptionsStopEmulation}"
                  IsEnabled="{Binding IsGameRunning}" />
              <MenuItem Command="{Binding SimulateWakeUpMessage}" Header="{locale:Locale MenuBarOptionsSimulateWakeUpMessage}" />
              <Separator />
              <MenuItem
                  Name="ScanAmiiboMenuItem"
                  AttachedToVisualTree="ScanAmiiboMenuItem_AttachedToVisualTree"
                  Command="{Binding OpenAmiiboWindow}"
                  Header="{locale:Locale MenuBarActionsScanAmiibo}"
                  IsEnabled="{Binding IsAmiiboRequested}" />
            </MenuItem>
            <MenuItem
                VerticalAlignment="Center"
                Header="{locale:Locale MenuBarTools}">
              <MenuItem Header="{locale:Locale MenuBarToolsInstallFirmware}">
                <MenuItem Command="{Binding InstallFirmwareFromFile}" Header="{locale:Locale MenuBarFileToolsInstallFirmwareFromFile}" />
                <MenuItem Command="{Binding InstallFirmwareFromFolder}" Header="{locale:Locale MenuBarFileToolsInstallFirmwareFromDirectory}" />
              </MenuItem>
            </MenuItem>
            <MenuItem
                VerticalAlignment="Center"
                Header="{locale:Locale MenuBarHelp}">
              <MenuItem
                  Name="UpdateMenuItem"
                  Command="{Binding CheckForUpdates}"
                  Header="{locale:Locale MenuBarHelpCheckForUpdates}" />
              <Separator />
              <MenuItem Command="{Binding OpenAboutWindow}" Header="{locale:Locale MenuBarHelpAbout}" />
            </MenuItem>
          </Menu>
          <DockPanel
              HorizontalAlignment="Right"
              IsVisible="{Binding !IsGameRunning}">
            <TextBox
                Name="SearchBox"
                Height="20"
                MinWidth="200"
                Margin="0"
                HorizontalAlignment="Right"
                KeyUp="SearchBox_OnKeyUp"
                Text="{Binding SearchText}"
                Watermark="{locale:Locale MenuSearch}" />
          </DockPanel>
        </DockPanel>
      </StackPanel>
      <ContentControl
          Name="Content"
          Grid.Row="1"
          Padding="0"
          HorizontalAlignment="Stretch"
          VerticalAlignment="Stretch"
          BorderBrush="{DynamicResource ThemeControlBorderColor}"
          BorderThickness="0,0,0,1"
          DockPanel.Dock="Top">
        <DataGrid
            Name="GameList"
            AlternatingRowBackground="{DynamicResource ThemeAlternatingRowColor}"
            CanUserResizeColumns="True"
            CanUserSortColumns="True"
            DoubleTapped="GameList_OnDoubleTapped"
            IsReadOnly="True"
            Items="{Binding AppsCollection}"
            PointerPressed="GameList_OnPointerPressed"
            RowBackground="{DynamicResource ThemeBackgroundColor}"
            SelectionMode="Single"
            Tapped="GameList_OnTapped">
          <DataGrid.ContextMenu>
            <ContextMenu MenuOpened="MenuBase_OnMenuOpened">
              <MenuItem
                  Command="{Binding OpenUserSaveDirectory}"
                  Header="{locale:Locale GameListContextMenuOpenUserSaveDirectory}"
                  ToolTip.Tip="{locale:Locale GameListContextMenuOpenUserSaveDirectoryToolTip}" />
              <MenuItem
                  Command="{Binding OpenDeviceSaveDirectory}"
                  Header="{locale:Locale GameListContextMenuOpenUserDeviceDirectory}"
                  ToolTip.Tip="{locale:Locale GameListContextMenuOpenUserDeviceDirectoryToolTip}" />
              <MenuItem
                  Command="{Binding OpenBcatSaveDirectory}"
                  Header="{locale:Locale GameListContextMenuOpenUserBcatDirectory}"
                  ToolTip.Tip="{locale:Locale GameListContextMenuOpenUserBcatDirectoryToolTip}" />
              <Separator />
              <MenuItem
                  Command="{Binding OpenTitleUpdateManager}"
                  Header="{locale:Locale GameListContextMenuManageTitleUpdates}"
                  ToolTip.Tip="{locale:Locale GameListContextMenuManageTitleUpdatesToolTip}" />
              <MenuItem
                  Command="{Binding OpenDlcManager}"
                  Header="{locale:Locale GameListContextMenuManageDlc}"
                  ToolTip.Tip="{locale:Locale GameListContextMenuManageDlcToolTip}" />
              <MenuItem
                  Command="{Binding OpenModsDirectory}"
                  Header="{locale:Locale GameListContextMenuOpenModsDirectory}"
                  ToolTip.Tip="{locale:Locale GameListContextMenuOpenModsDirectoryToolTip}" />
              <Separator />
              <MenuItem Header="{locale:Locale GameListContextMenuCacheManagement}">
                <MenuItem
                    Command="{Binding PurgePtcCache}"
                    Header="{locale:Locale GameListContextMenuCacheManagementPurgePptc}"
                    ToolTip.Tip="{locale:Locale GameListContextMenuCacheManagementPurgePptcToolTip}" />
                <MenuItem
                    Command="{Binding PurgeShaderCache}"
                    Header="{locale:Locale GameListContextMenuCacheManagementPurgeShaderCache}"
                    ToolTip.Tip="{locale:Locale GameListContextMenuCacheManagementPurgeShaderCacheToolTip}" />
                <MenuItem
                    Command="{Binding OpenPtcDirectory}"
                    Header="{locale:Locale GameListContextMenuCacheManagementOpenPptcDirectory}"
                    ToolTip.Tip="{locale:Locale GameListContextMenuCacheManagementOpenPptcDirectoryToolTip}" />
                <MenuItem
                    Command="{Binding OpenShaderCacheDirectory}"
                    Header="{locale:Locale GameListContextMenuCacheManagementOpenShaderCacheDirectory}"
                    ToolTip.Tip="{locale:Locale GameListContextMenuCacheManagementOpenShaderCacheDirectoryToolTip}" />
              </MenuItem>
              <MenuItem Header="{locale:Locale GameListContextMenuExtractData}">
                <MenuItem
                    Command="{Binding ExtractExeFs}"
                    Header="{locale:Locale GameListContextMenuExtractDataExeFS}"
                    ToolTip.Tip="{locale:Locale GameListContextMenuExtractDataExeFSToolTip}" />
                <MenuItem
                    Command="{Binding ExtractRomFs}"
                    Header="{locale:Locale GameListContextMenuExtractDataRomFS}"
                    ToolTip.Tip="{locale:Locale GameListContextMenuExtractDataRomFSToolTip}" />
                <MenuItem
                    Command="{Binding ExtractLogo}"
                    Header="{locale:Locale GameListContextMenuExtractDataLogo}"
                    ToolTip.Tip="{locale:Locale GameListContextMenuExtractDataLogoToolTip}" />
              </MenuItem>
            </ContextMenu>
          </DataGrid.ContextMenu>
          <DataGrid.Columns>
            <DataGridTemplateColumn Width="70" SortMemberPath="Favorite">
              <DataGridTemplateColumn.Header>
                <TextBlock Text="{locale:Locale GameListHeaderFavorite}" />
              </DataGridTemplateColumn.Header>
              <DataGridTemplateColumn.CellTemplate>
                <DataTemplate>
                  <CheckBox IsChecked="{Binding Favorite}" Margin="5,0,0,0" />
                </DataTemplate>
              </DataGridTemplateColumn.CellTemplate>
            </DataGridTemplateColumn>
            <DataGridTemplateColumn>
              <DataGridTemplateColumn.Header>
                <TextBlock Text="{locale:Locale GameListHeaderIcon}" />
              </DataGridTemplateColumn.Header>
              <DataGridTemplateColumn.CellTemplate>
                <DataTemplate>
                  <Image
                      Width="80"
                      Height="80"
                      Margin="15"
                      Source="{Binding Icon, Converter={StaticResource ByteImage}}" />
                </DataTemplate>
              </DataGridTemplateColumn.CellTemplate>
            </DataGridTemplateColumn>
            <DataGridTextColumn
                Width="Auto"
                Binding="{Binding ApplicationName}"
                CellStyleClasses="Left">
              <DataGridTextColumn.Header>
                <TextBlock Text="{locale:Locale GameListHeaderApplication}" />
              </DataGridTextColumn.Header>
            </DataGridTextColumn>
            <DataGridTextColumn Width="*" Binding="{Binding Developer}">
              <DataGridTextColumn.Header>
                <TextBlock Text="{locale:Locale GameListHeaderDeveloper}" />
              </DataGridTextColumn.Header>
            </DataGridTextColumn>
            <DataGridTextColumn Width="0.5*" Binding="{Binding Version}">
              <DataGridTextColumn.Header>
                <TextBlock Text="{locale:Locale GameListHeaderVersion}" />
              </DataGridTextColumn.Header>
            </DataGridTextColumn>
            <DataGridTextColumn Width="0.6*" Binding="{Binding TimePlayed}">
              <DataGridTextColumn.Header>
                <TextBlock Text="{locale:Locale GameListHeaderTimePlayed}" />
              </DataGridTextColumn.Header>
            </DataGridTextColumn>
            <DataGridTextColumn Width="*" Binding="{Binding LastPlayed}">
              <DataGridTextColumn.Header>
                <TextBlock Text="{locale:Locale GameListHeaderLastPlayed}" />
              </DataGridTextColumn.Header>
            </DataGridTextColumn>
            <DataGridTextColumn Width="80" Binding="{Binding FileExtension}">
              <DataGridTextColumn.Header>
                <TextBlock Text="{locale:Locale GameListHeaderFileExtension}" />
              </DataGridTextColumn.Header>
            </DataGridTextColumn>
            <DataGridTextColumn Width="0.5*" Binding="{Binding FileSize}">
              <DataGridTextColumn.Header>
                <TextBlock Text="{locale:Locale GameListHeaderFileSize}" />
              </DataGridTextColumn.Header>
            </DataGridTextColumn>
            <DataGridTextColumn Width="*" Binding="{Binding Path}">
              <DataGridTextColumn.Header>
                <TextBlock Text="{locale:Locale GameListHeaderPath}" />
              </DataGridTextColumn.Header>
            </DataGridTextColumn>
          </DataGrid.Columns>
        </DataGrid>
      </ContentControl>
      <Grid
          Grid.Row="1"
          HorizontalAlignment="Stretch"
          VerticalAlignment="Stretch"
          Margin="0"
          Background="{DynamicResource DarkBackgroundColor}"
          IsVisible="{Binding ShowLoadProgress}"
          ZIndex="1000">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="*" />
          <ColumnDefinition Width="Auto" />
          <ColumnDefinition Width="800" />
          <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
          <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <Border
            Grid.Column="1"
            Width="256"
            Height="256"
            Margin="0,10,0,10"
            Padding="4"
            BorderBrush="Black"
            BorderThickness="2"
            BoxShadow="4 4 32 8 #40000000"
            CornerRadius="3">
          <Image
              Width="256"
              Height="256"
              Source="{Binding SelectedIcon, Converter={StaticResource ByteImage}}" />
        </Border>
        <Grid
            Grid.Column="2"
            HorizontalAlignment="Stretch"
            VerticalAlignment="Stretch">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
          </Grid.ColumnDefinitions>
          <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
          </Grid.RowDefinitions>
          <TextBlock
              Grid.Row="1"
              Margin="40,10,0,10"
              FontSize="38"
              FontWeight="Bold"
              Text="{Binding CacheLoadHeading}"
              TextAlignment="Left" />
          <ProgressBar
              Grid.Row="2"
              Height="10"
              Margin="40,0,20,0"
              Background="{Binding ProgressBarBackgroundColor}"
              BorderBrush="White"
              BorderThickness="0.5"
              Foreground="{Binding ProgressBarForegroundColor}"
              Maximum="{Binding ProgressMaximum}"
              Minimum="0"
              Value="{Binding ProgressValue}" />
          <TextBlock
              Grid.Row="3"
              Margin="40,10,0,10"
              FontSize="18"
              Text="{Binding CacheLoadStatus}"
              TextAlignment="Left" />
        </Grid>
      </Grid>
      <Grid
          Name="StatusBar"
          Grid.Row="2"
          Height="30"
          HorizontalAlignment="Stretch"
          Background="{DynamicResource DarkBackgroundColor}"
          VerticalAlignment="Bottom"
          DockPanel.Dock="Bottom"
          IsVisible="{Binding ShowMenuAndStatusBar}">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="Auto" />
          <ColumnDefinition Width="Auto" />
          <ColumnDefinition Width="*" />
          <ColumnDefinition Width="Auto" />
        </Grid.ColumnDefinitions>
        <StackPanel Grid.Column="0" >
          <Grid Margin="0" IsVisible="{Binding EnableNonGameRunningControls}">
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="Auto" />
              <ColumnDefinition Width="Auto" />
              <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <Button
                Width="25"
                Height="25"
                MinWidth="0"
                Margin="5,0,5,0"
                VerticalAlignment="Center"
                Background="Transparent"
                Command="{Binding LoadApplications}">
              <ui:SymbolIcon Symbol="Refresh" Height="100" Width="50"/>
            </Button>
            <TextBlock
                Name="LoadStatus"
                Grid.Column="1"
                Margin="0,0,5,0"
                VerticalAlignment="Center"
                IsVisible="{Binding EnableNonGameRunningControls}"
                Text="{locale:Locale StatusBarGamesLoaded}"/>
            <ProgressBar
                Name="LoadProgressBar"
                Grid.Column="2"
                Height="10"
                VerticalAlignment="Center"
                Foreground="{DynamicResource HighlightColor}"
                IsVisible="{Binding EnableNonGameRunningControls}" />
          </Grid>
        </StackPanel>
        <StackPanel
            Grid.Column="1"
            Margin="5,0,0,0"
            HorizontalAlignment="Left"
            VerticalAlignment="Center"
            IsVisible="{Binding IsGameRunning}"
            Orientation="Horizontal">
          <TextBlock
              Name="VsyncStatus"
              HorizontalAlignment="Left"
              VerticalAlignment="Center"
              Foreground="{Binding VsyncColor}"
              PointerReleased="VsyncStatus_PointerReleased"
              Margin="5,0,5,0"
              Text="VSync"
              TextAlignment="Left" />
          <TextBlock
              Margin="5,0,5,0"
              Name="DockedStatus"
              HorizontalAlignment="Left"
              VerticalAlignment="Center"
              PointerReleased="DockedStatus_PointerReleased"
              Text="{Binding DockedStatusText}"
              TextAlignment="Left" />
          <TextBlock
              Margin="5,0,5,0"
              Name="AspectRatioStatus"
              HorizontalAlignment="Left"
              VerticalAlignment="Center"
              PointerReleased="AspectRatioStatus_PointerReleased"
              Text="{Binding AspectRatioStatusText}"
              TextAlignment="Left" />
          <TextBlock
              Margin="5,0,5,0"
              HorizontalAlignment="Left"
              VerticalAlignment="Center"
              Text="{Binding GameStatusText}"
              TextAlignment="Left" />
          <TextBlock
              Margin="5,0,5,0"
              HorizontalAlignment="Left"
              VerticalAlignment="Center"
              Text="{Binding FifoStatusText}"
              TextAlignment="Left" />
          <TextBlock
              Margin="5,0,5,0"
              HorizontalAlignment="Left"
              VerticalAlignment="Center"
              Text="{Binding GpuStatusText}"
              TextAlignment="Left" />
        </StackPanel>
        <StackPanel Grid.Column="3" Orientation="Horizontal">
          <TextBlock
              Name="FirmwareStatus"
              HorizontalAlignment="Right"
              VerticalAlignment="Center"
              Text="{locale:Locale StatusBarSystemVersion}"  />
        </StackPanel>
      </Grid>
    </Grid>
  </Grid>
</window:StyleableWindow>